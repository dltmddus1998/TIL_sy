# Amazon Web Service (AWS)

## AWS 개념 정리 

### **Achievement Goals**

- Cloud와 Deployment의 의미를 각각 알고, 내 코드를 남에게 배포할 수 있다.

  - 클라우드 컴퓨팅이 무엇인지 설명할 수 있다.

    - 장점
      - 가상화(Virtualization) 기술의 발전으로부터 비롯된다.
      - 서버의 자원과 공간 및 네트워크 환경을 제공한다
      - 필요할 때마다 컴퓨팅 능력을 유연하게 조절한다.
      - 사용한 만큼의 요금만 지급하면 된다.
      - 다른 컴퓨터로 즉시 이주가 가능하다.
        - 스냅샷 ('이미지')
    - 단점
      - 운영 환경 자체가 클라우드 제공자에게 종속된다.
        - 클라우드 서비스에 문제가 생기면 내가 배포하고 관리하는 환경에도 영향을 미친다.
    - 대표적인 클라우드 서비스의 형태

      ![image](https://user-images.githubusercontent.com/73332608/133648296-d60aec91-e046-42f6-a547-9d82490eef54.png)

      대표적인 서비스 및 기본 제공 서비스 범위

      - SaaS (Software as a Service)
        - 클라우드 제공자가 당장 사용 가능한 **소프트웨어**를 제공하는 경우 대부분 SaaS에 해당한다.
      - IaaS (Infrastructure as a Service)
        - 클라우드 제공자가 **가상 컴퓨터**까지 제공하는 경우 대부분 IaaS에 해당한다.
        - ex) AWS
      - PaaS (Platform as a Service)
        - 클라우드 제공자가 데이터베이스, 개발 **플랫폼**까지 제공하는 경우 대부분 PaaS에 해당한다.

  - Deployment의 의미를 이해할 수 있다.
    - 배포 : 개발한 서비스를 사용자가 이용가능하게 하는 과정
    - Deployment 단계 → Integration 단계 → Staging 단계 → Production 단계
      - **Deployment 단계 : 각자의 컴퓨터에서 코드를 작성하고 테스트하는 과정**
        - **개발 단계**이므로 실제 데이터가 아닌 **더미 데이터**를 이용하여 테스트
      - **Integration 단계 : 각자의 컴퓨터에서 작성한 코드를 합치는 과정**
        - 내가 작성한 코드가 다른 코드를 침범해서 오류를 일으키지 않는지, 코드 간에 충돌이 있진 않은지 확인하는 과정을 거친다.
      - **Staging 단계 : 실제 출시 단계인 Production과 가장 유사한 환경에서 테스트**
        - 실제 데이터를 복사해서 문제가 있지 않은지 등 다양한 환경에서 테스트
        - 서비스와 관련된 부서 혹은 인원의 확인 과정을 거친다.
          - 예) 작성된 코드가 마케팅팀 혹은 디자인팀 예상했던 결과인지에 대한 확인을 거치는 과정
      - **Production 단계 : 개발된 서비스를 출시**
        - 사용자가 접속할 수 있는 Production 환경에서 코드를 구동하고 서비스를 제공한다.
        - 실제 데이터를 가지고 서비스가 운영되므로 문제가 생기면 안되는 단계
  - 코드를 남에게 배포할 수 있다.
    - 배포에서는, **환경의 차이를 이해하고 환경 설정을 코드와 분리하는 것이 중요하다.**
    - 작성한 코드가 다른 환경에서 정상 작동할 수 있게 하려면?
      - 절대 경로 대신 **상대 경로** 사용
      - 환경에 따라 포트를 분기할 수 있도록 **환경 변수** 설정 (.env)
        - 환경 변수는 코드 변경 없이 쉽게 배포 때마다 변경 가능
      - Docker와 같은 개발 환경 자체를 통일시키는 솔루션 사용

- 사용하는 서비스들의 특징과 사용해야 하는 이유를 이해할 수 있다.
  - RDS와 EC2에 설치된 데이터베이스의 차이를 이해할 수 있다.
    - **EC2 (Elastic Compute Cloud)**
      - 아마존 웹 서비스에서 제공하는 **클라우드 컴퓨팅 서비스**
      - AWS에서 원격으로 제어할 수 있는 가상의 컴퓨터를 한 대 빌리는 것
      - **사용한 만큼 비용 지불 → Elastic (탄력적인)**
        - 비용적인 부분 뿐만 아니라 필요에 따라 성능, 용량을 자유롭게 조절할 수 있다는 의미도 내포
      - 장점
        1. 구성하는 데 필요한 시간이 짧다.
           1. 몇 번의 클릭만으로 PC 구성 가능
        2. 다양한 운영체제에 대한 선택이 가능하다.
           1. AMI라는 다양한 템플릿 제공
              1. 필요에 따라 손쉽게 운영체제 선택 및 구성 가능
              2. CPU, RAM, 용량까지도 손쉽게 구성 가능
      - EC2를 통해 할 수 있는 가장 기본적인 일은 웹서버를 설치하고 웹서버를 통해 사용자가 웹브라우저를 통해 요청하는 서비스를 제공하는 것이다.
      - Instance : 한 대의 컴퓨터를 의미하는 단위
        - AWS에서 컴퓨터를 빌리는 것 : 인스턴스를 생성한다.
    - **RDS (Relational Database Service)**
      - AWS에서 제공하는 관계형 데이터베이스 서비스
      - 사용하는 이유 (장점)
        - 데이터베이스 유지보수와 관련된 일들을 RDS에서 전적으로 관리
        - 사용자가 해야할 일은 초기 설정을 제외하고 데이터베이스에 저장된 데이터를 관리하는 일 밖에 없기에 큰 편의성
        - 다양한 데이터베이스 엔진 선택지 제공
  - S3의 높은 가용성과 안정성을 이해할 수 있다.
    - 클라우드 스토리지 : 인터넷 공간에 데이터를 저장하는 저장소
      - 장점 : 뛰어난 접근성
    - **S3 (Simple Storage Service)**
      - AWS에서 제공하는 클라우드 스토리지 서비스
      - 장점
        - 뛰어난 접근성
        - 확장성 : 많은 시간과 수고를 들이지 않고 스토리지 규모 확장 및 축소 가능
          - 스토리지 용량 무한히 확장 가능
          - 사용한 만큼의 비용만 지불 → 비용 효율적
        - 강력한 내구성 : 저장된 파일을 유실할 가능성 down
        - 높은 가용성 : 스토리지에 저장된 파일들을 정상적으로 사용할 수 있는 시간 up
      - 다양한 스토리지 클래스 제공
        - 저장소를 어떤 목적으로 활용할지에 따라 효율적으로 선택할 수 있는 스토리지 클래스가 달라진다.
        - **Standard 클래스**
          - 범용적인 목적으로 사용하기 좋다.
          - 데이터에 빠른 속도로 접근 가능하다.
          - 데이터 엑세스 요청에 대한 처리 속도가 빠르다.
          - BUT 데이터를 오래 보관하는 목적으로는 비효율적이다. casue) 보관 비용 up
        - **Glacier 클래스**
          - 장기적인 목적으로 사용하기 좋다.
          - 속도 down
          - BUT 데이터 보관 비용 down
      - **S3 사용 시 이점**
        - 버킷을 통해 정적 웹 사이트 호스팅 가능 (사용자들이 정적 웹사이트를 배포할 수 있는 공간 제공)
          - 정적 파일 : 서버의 개입 없이 클라이언트에 제공될 수 있는 파일
          - 웹 호스팅 : 서버의 한 공간을 빌려주어 웹 사이트의 배포, 운영이 가능하게 만들어주는 서비스
          - 버킷
            - 버킷이 담기는 파일 → 객체
              - **객체 → 파일 + 메타 데이터**
                - 파일 : **키-값 페어 형식**으로 데이터 저장
                - 파일의 값 → 실제 데이터 저장
                - 데이터의 최대 크기 : 5TB
                - 파일의 키 : 각각의 객체를 고유하게 만들어주는 식별자 역할
                  - 키를 이용해 원하는 객체 검색 가능
                - 메타 데이터 : 객체를 설명하는 데이터
                - 모든 객체는 고유한 **URL 주소** 소유
                  - URL 주소 - http://[버킷의 이름].S3.amazonaws.com/[객체의 키]
      - **S3를 이용하여 클라이언트 배포**
        - 클라이언트 앱을 정적 파일로 **빌드**하여 배포
          - 빌드 : 불필요한 데이터를 없애고, 여러 갈래로 퍼져있는 데이터들을 통합 및 압축하여 배포하기에 최적화된 상태 만들기
          - 빌드하기 전과 비교
            - 데이터 용량 down
            - 웹 사이트 로딩 속도 up
          - ! 사용하는 환경에 따라 빌드 과정은 다를 수 있다.
            - 웹 앱에서와 같이 HTML, CSS, JS의 형태로 배포하는 경우 배포 가능한 정적 파일의 형태로 만들어 줘야한다.
            - asset 자체가 정적인 경우 그대로 배포한다.
            - React → `npm run build` 를 통해 정적 파일 형태의 결과물을 만들어 낸 후 배포한다.
        - AWS에서 제공하는 CDN 서비스인 CloudFront를 통해 각지의 데이터센터에 데이터를 분산시켜 저장해뒀다가 가까운 지역에 데이터를 주는 방식으로 사용자에게 더 빠르게 서비스 제공 가능 (Client Application 배포)
        - Server Application 배포
          - AWS EC2 서비스를 통해 손쉽게 서버를 구성하고 서비스를 제공할 수 있다.
        - Database 배포
          - RDS : 유지 보수 작업 담당
          - RDS를 이용하여 EC2를 통해 배포된 Server Application의 데이터를 저장 및 제공하는 데이터베이스를 배포할 수 있다.
        - Route53을 이용해 요청을 쉽고 안전하게 원하는 곳으로 보낼 수 있음을 이해할 수 있다.
          - 직관적인 도메인 주소를 통해 서비스에 접근하도록 할 수 있다.
